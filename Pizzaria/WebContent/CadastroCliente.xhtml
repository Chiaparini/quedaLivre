<ui:composition template="/template.xhtml"
	xmlns:jsp="http://java.sun.com/JSP/Page" 
	xmlns:f="http://java.sun.com/jsf/core" 
	xmlns:h="http://java.sun.com/jsf/html" 
	xmlns:ui="http://java.sun.com/jsf/facelets" 
	xmlns:p="http://primefaces.org/ui" 
	version="2.0">
    <jsp:directive.page language="java"
        contentType="text/html; charset=ISO-8859-1" pageEncoding="ISO-8859-1" />
    <jsp:text>
        <![CDATA[ <?xml version="1.0" encoding="ISO-8859-1" ?> ]]>
    </jsp:text>
    <jsp:text>
        <![CDATA[ <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> ]]>
    </jsp:text>

<ui:define name="menu-superior">
<f:view>

	<div id="header">
		<ui:insert name="header">
			<ui:include src="Header.xhtml" />
		</ui:insert>
	</div>
	
</f:view>
</ui:define>
<ui:define name="corpo-da-pagina">
	<h:form>
		<h:outputLabel value="Cadastro de Cliente" /> <br/> <br/>
		
		<h:panelGrid>
			<h:outputLabel value="Login: "></h:outputLabel>
			<h:panelGroup>
			<h:inputText value="#{loginCliente.login}" maxlength="20" id="login" required="true">
				<f:ajax event="change" execute="login" render="mLogin" />
				<f:validateLength minimum="4" maximum="20" />
				<f:validator validatorId="ValidadorLoginUnico" />
			</h:inputText>
			<h:message for="login" id="mLogin" style="color:red"></h:message>
			</h:panelGroup>
			
			<h:outputLabel value="Nome: "></h:outputLabel>
			<h:panelGroup>
			<h:inputText value="#{loginCliente.nome}" maxlength="40" id="nome" required="true">
				<f:ajax event="change" execute="nome" render="mNome" />
				<f:validateLength maximum="40" />
			</h:inputText>
			<h:message for="nome" id="mNome" style="color:red"></h:message>
			</h:panelGroup>
			
			<h:panelGroup>
				<h:outputLabel value="Telefone: "></h:outputLabel>
				<h:outputLabel value="(Exs: 222222-2222 / 2292222-2222)" style="color:#333;font-style:italic;font-size:12"></h:outputLabel>
			</h:panelGroup>
			<h:panelGroup>
			<h:inputText value="#{loginCliente.telefone}" maxlength="12" id="telefone" required="true">
				<f:ajax event="change" execute="telefone" render="mTelefone" />
<!-- 				<f:validateRegex pattern="[0-9-]{10,12}+" /> -->
<!-- 				<f:validateRegex pattern="[0-9]{2}+[0-9]{4,5}+[-]{1}+[0-9]{4}" /> -->
				<f:validateRegex pattern="[0-9]{2}+[9]{0,1}+[0-9]{4}+[-]{1}+[0-9]{4}" />
			</h:inputText>
			<h:message for="telefone" id="mTelefone" style="color:red"></h:message>
			</h:panelGroup>
			
			<h:outputLabel value="Senha: "></h:outputLabel>
			<h:panelGroup>
			<h:inputSecret value="#{loginCliente.senha}" id="senha" required="true">
				<f:ajax event="change" execute="senha" render="mSenha" />
				<f:validateLength minimum="4"/>
<!-- 				<f:validator validatorId="ValidadorSenha2" /> -->
<!-- 				<f:attribute name="senha" value="#{loginCliente.senha}" /> -->
			</h:inputSecret>
			<h:message for="senha" id="mSenha" style="color:red"></h:message>
			</h:panelGroup>
			
			<h:outputLabel value="Confirmar Senha: "></h:outputLabel>
			<h:outputLabel value="#{senhaValidator.confirma}"></h:outputLabel>
			<h:panelGroup>
			<h:inputSecret value="#{loginCliente.confirmaSenha}" id="cSenha" required="true">
				<f:ajax event="change" execute="cSenha" render="mcSenha" /> 
				<f:validateLength minimum="4" />
				
			</h:inputSecret>
			<h:message for="cSenha" id="mcSenha" style="color:red"></h:message>
			</h:panelGroup>
			<br/>
			<br/>
			<h:outputLabel value="Rua: "></h:outputLabel>
			<h:panelGroup>
			<h:inputText value="#{loginCliente.rua}" maxlength="40" id="rua" required="true">
				<f:ajax event="change" execute="rua" render="mRua" />

				<f:validateLength maximum="40"/>
			</h:inputText>
			<h:message for="rua" id="mRua" style="color:red"></h:message>
			</h:panelGroup>
			
			<h:outputLabel value="Numero: "></h:outputLabel>
			<h:panelGroup>
			<h:inputText value="#{loginCliente.numero}" id="num" maxlength="6" converterMessage="Por favor, digite um numero" required="true">
				<f:ajax event="change" execute="num" render="mNum" />

				<f:validateLongRange minimum="1" />
			</h:inputText>
			<h:message for="num" id="mNum" style="color:red"/>
			</h:panelGroup>
			
			<h:outputLabel value="Bairro: "></h:outputLabel>
			<h:panelGroup>
			<h:inputText value="#{loginCliente.bairro}" maxlength="20" id="bairro" required="true">
				<f:ajax event="change" execute="bairro" render="mBairro" />
				<f:validateLength maximum="20"/>
			</h:inputText>
			<h:message for="bairro" id="mBairro" style="color:red"/>
			</h:panelGroup>
			
			<h:panelGroup>
			<h:outputLabel value="CEP: "></h:outputLabel>
			<h:outputLabel value="(Exs: 22222-222)" style="color:#333;font-style:italic;font-size:12"></h:outputLabel>
			</h:panelGroup>
			<h:panelGroup>	
			<h:inputText value="#{loginCliente.cep}" maxlength="9" required="true" id="cep">
				<f:ajax event="change" execute="cep" render="mCep" />
				<f:validateRegex pattern="[0-9]{5}+[-]{1}+[0-9]{3}" />
			</h:inputText>
			<h:message for="cep" id="mCep" style="color:red"/>
			</h:panelGroup>
			
			<h:outputLabel value="Cidade: "></h:outputLabel>
			<h:panelGroup>
			<h:inputText value="#{loginCliente.cidade}" maxlength="20" required="true" id="cidade">
				<f:ajax event="change" execute="cidade" render="mCidade" />
				<f:validateLength maximum="20"/>
			</h:inputText>
			<h:message for="cidade" style="color:red" id="mCidade" />
			</h:panelGroup>
						
			<h:outputLabel value="Complemento: "></h:outputLabel>
			<h:panelGroup>
			<h:inputText value="#{loginCliente.complemento}" maxlength="20" id="complemento">
				<f:ajax event="change" execute="complemento" render="mComplemento" />
				<f:validateLength maximum="20"/>
			</h:inputText>
			<h:message for="complemento" style="color:red" id="mComplemento" />
			</h:panelGroup>
				
				
		</h:panelGrid>
		
		<h:commandButton value="Salvar" action="#{loginCliente.cadastrarUsuario('cliente')}" >
			<f:ajax execute="@form" render="@form" /> 
		</h:commandButton>
		
		
			
	</h:form>

</ui:define>
</ui:composition>