<ui:composition template="/template.xhtml"
	xmlns:jsp="http://java.sun.com/JSP/Page" 
	xmlns:f="http://java.sun.com/jsf/core" 
	xmlns:h="http://java.sun.com/jsf/html" 
	xmlns:ui="http://java.sun.com/jsf/facelets" 
	xmlns:p="http://primefaces.org/ui" 
	version="2.0">
    <jsp:directive.page language="java"
        contentType="text/html; charset=ISO-8859-1" pageEncoding="ISO-8859-1" />
    <jsp:text>
        <![CDATA[ <?xml version="1.0" encoding="ISO-8859-1" ?> ]]>
    </jsp:text>
    <jsp:text>
        <![CDATA[ <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> ]]>
    </jsp:text>

<ui:define name="menu-superior">
<f:view>

	<div id="header">
		<ui:insert name="header">
			<ui:include src="Header.xhtml" />
		</ui:insert>
	</div>
	
</f:view>
</ui:define>
<ui:define name="corpo-da-pagina">
	<h:form>
		<h:panelGrid>
		<h:outputLabel value="Escolha sua pizza: " style="font-weight:bold" />
		<h:selectOneListbox id="pizza_id" var="pizza" value="#{realizarPedidoBean.idPizza}" requiredMessage="Campo obrigatorio" required="true">
			<f:selectItems
				value="#{realizarPedidoBean.buscaTodasPizzas()}"  var="pizza" itemLabel="#{pizza.sabor}" itemValue="#{pizza.id}"/>
		</h:selectOneListbox>
		<h:message style="color:red;margin:8px;" for="pizza_id" showDetail="false" showSummary="true"/>
		
		    <h:outputLabel value="Quantidade: " style="font-weight:bold" />
	        <h:inputText id="quantidade" value="#{realizarPedidoBean.quantidade}" requiredMessage="Campo obrigatorio" required="true"/>
	        <h:message style="color:red;margin:8px;" for="quantidade" showDetail="false" showSummary="true"/>
	        
	      <h:outputLabel value="Total: " style="font-weight:bold" />
	      <h:inputText id="total" name="total" readonly="#{facesContext.renderResponse}" value="#{realizarPedidoBean.total}" />
	        
		</h:panelGrid>
		
		<h:commandButton value="Adicionar" action="#{realizarPedidoBean.adicionaPizza}" />
	
		<h:commandButton value="Realizar pedido" action="#{realizarPedidoBean.realizarPedido}" />
	</h:form>
</ui:define>
</ui:composition>